<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>测试</title><meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /><script type="text/javascript">//*测试数据var id_array,name_array,parent_array;id_array = new Array(1,2,3,4,5,6,7,8,9,10,11,12,13,14);name_array = new Array("湖北","广东","黄冈","武汉","东莞","虎门","浠水","蕲春","武昌","汉阳","东一","东二","虎一","虎二");parent_array = new Array(0,0,1,1,2,2,3,3,4,4,5,5,6,6);function get_top_id(the_id){    var p_array = new Array();    var n = 0;    if(the_id == 0){        return p_array;    }    for(var i = 0; i < id_array.length; i++){        if(the_id == id_array[i]){            //p_array[n] = parent_array[i];			p_array.push(parent_array[i]);            if(parent_array[i] == 0){                return p_array;            }else{                //n++;                get_top_id(parent_array[i]);				return p_array;                //break;            }        }    }}function get_bottom_id(the_id){    var c_array = new Array();    var n = 0;    for(var i = 0; i < parent_array.length; i++){        if(the_id == parent_array[i]){            c_array[n] = id_array[i];            n++;        }    }    if(n > 0){        return c_array;    }else{        return false;    }}function create_sel(the_id){    the_id = Number(the_id);    var node_array,option_array,sel_name,head_code,last_code,sel_code;    document.getElementById("set_sel").innerHTML = '';    node_array = get_top_id(the_id);	/*	alert(node_array.length);    if(node_array.length >= 1){		node_array.unshift(the_id);	}	*/	node_array.unshift(the_id);    head_code = '<form method="post" action="">';    last_code = '</form>';    sel_code  = '';    for(var k = node_array.length - 1; k >= 0; k--){        option_array = get_bottom_id(node_array[k]);        if(option_array != false){            sel_name  = 'select' + node_array[k];            sel_code += '<select name="' + sel_name + '" onchange="create_sel(this.value)">';            for(var l = 0; l < option_array.length; l++){                for(var m = 0; m < id_array.length; m++){                    if(option_array[l] == id_array[m]){                        sel_code += '<option value=' + id_array[m] + '>' + name_array[m] + '</option>';                        break;                    }                }            }            sel_code += '</select>';        }    }    document.getElementById("set_sel").innerHTML = head_code + sel_code + last_code;}// alert(get_top_id(5));</script></head><body onLoad="create_sel(2)">    <div id="set_sel"></div></body></html>