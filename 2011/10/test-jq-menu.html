<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title></title>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
	<script type="text/javascript" src="../jquery-1.4.4.min.js"></script>
	<style type="text/css">
		
	</style>
</head>
<body>
	<fieldset>
		<legend>Collapsible List</legend>
		<ul>			<li>Item 1</li>			<li>Item 2</li>
			<li>
				Item 3
				<ul>					<li>Item 3.1</li>					<li>
						Item 3.2
						<ul>							<li>Item 3.2.1</li>							<li>Item 3.2.2</li>							<li>Item 3.2.3</li>						</ul>
					</li>
					<li>Item 3.3</li>				</ul>
			</li>
			<li>
				Item 4
				<ul>					<li>Item 4.1</li>
					<li>
						Item 4.2
						<ul>							<li>Item 4.2.1</li>							<li>Item 4.2.2</li>						</ul>
					</li>				</ul>
			</li>
			<li>Item 5</li>		</ul>
	</fieldset>
	<script type="text/javascript">
		//console.log($('li:has(ul)'));
		$('li:has(ul)').click(function(event){
			//console.log(this);
			if(this == event.target){
				if($(this).children().is(':hidden')){
					$(this).css('list-style-image', 'url(img/close.gif)').children().show();
				} else {
					$(this).css('list-style-image', 'url(img/open.gif)').children().hide();
				}
			}
			return false;
		}).css('cursor', 'pointer').click();
		$('li:not(:has(ul))').css({
			'cursor': 'default',
			'list-style-image': 'none'
		});
	</script>
</body>
</html>