<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>	<title></title>	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /></head><body><ol>	<li>		<h3>一般现代浏览器通过侦听事件获得脚本加载完成时的状态</h3>		<script type="text/javascript">			/*			var script = document.createElement('script');			script.type = 'text/javascript';						//Firefox, Chrome			script.onload = function(){				alert('script loaded!');			};						script.src = 'http://code.jquery.com/jquery-1.4.2.min.js';			document.getElementsByTagName('head')[0].appendChild(script);			*/		</script>	</li>	<li>		<h3>ie支持另外一种方式，会触发readystatechange事件</h3>		<h4>loading:开始下载</h4>		<h4>complete:所有数据已准备就绪</h4>		<script type="text/javascript">			var script = document.createElement('script');			script.type = 'text/javascript';						//IE			script.onreadystatechange = function(){				if(script.readyState == 'loaded' || script.readyState == 'complete'){					script.onreadystatechange = null;					alert('Script loaded');				}			}						script.src = 'http://code.jquery.com/jquery-1.4.2.min.js';			document.getElementsByTagName('head')[0].appendChild(script);		</script>	</li>	<li>		<h3>兼容方法</h3>		<script type="text/javascript">			/**			 * 载入脚本			 * @param {String} url 载入的地址			 * @param {Function} callback 载入后需执行的函数			 */			function loadScript(url, callback){				var script = document.createElement('script');				script.type = 'text/javascript';								//IE				if(script.readyState){					script.onreadystatechange = function(){						if(script.readyState == 'loaded' || script.readyState == 'complete'){							script.onreadystatechange = null;							callback();						}					}				} else { //非IE					script.onload = function(){						callback();					}				}								script.src = null;				document.getElementsByTagName('head')[0].appendChild(script);			}						//example			loadScript('http://code.jquery.com/jquery-1.4.2.min.js', function(){				alert('File is loaded!');			})		</script>	</li>	<li>		<h3>XMLRequest脚本注入</h3>		<script type="text/javascript">			var xhr = new XMLHttpRequest();			xhr.open('get', 'http://code.jquery.com/jquery-1.4.2.min.js', true);			xhr.onreadystatechange = function(){				if(xhr.readySate == 4){					if(xhr.status >= 200 && shr.status < 300 || xhr.status == 304){ //200 有效响应; 304 从缓存读取						var script = document.createElement('script');						script.type = 'text/javascript';						script.text = xhr.responseText;						document.body.appendChild(script);					}				}			};			xhr.send(null);		</script>	</li>	<li>		<h3>在DOM中爬行</h3>		<script type="text/javascript">			function testNextSibling(){				var el = document.getElementById('mydiv'),					ch = el.firstChild,					name = '';				do {					name = ch.nodeName;				} while (ch = ch.nextSibling);				return name;			}			function testChildNodes(){				var el = document.getElementById('mydiv'),					ch = el.childNodes,					len = ch.length,					name = '';				for(var count=0; count<len; count++){					name = ch[count].nodeName;				}				return name;			}		</script>	</li></ol></body></html>