<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<style type="text/css">
	body{font-size:10px;}
	#tips{width:960px;height:350px;background:#eee;border:1px solid #ccc;}
</style>
<script type="text/javascript">
	function expand(){
		var btn = document.getElementById("btn");
		var obj = document.getElementById("tips");
		var info = document.getElementById("info");
		var status = 0; //0 执行完成，1 正在执行
		btn.onclick = function(){
			if(status) return;
			status = 1;
			if(obj.style.display == "none"){
				obj.style.display = "block";
				obj.style.height = "1px";
				var formula = function(){
					var oh = parseInt(obj.style.height);					
					if(oh < 350){
						obj.style.height = (oh + Math.ceil((350 - oh) / 10)) + "px";
						//每次前进目标值与当前值差的1/10
						//alert(obj.style.height);
						//obj.innerHTML += oh + " | " + Math.ceil((350 - oh) / 10) + "<br >";
					} else {
						clearInterval(st);
						status = 0;
					}
				}
				var st = setInterval(formula, 1);
			} else {
				var closeA = function(){
					var oh = parseInt(obj.style.height);
					if(oh > 0){
						obj.style.height = (oh - Math.ceil(oh / 15)) + "px";
					} else {
						window.clearInterval(st1, 1);
						obj.style.display = "none";
						status = 0;
					}
				}
				var st1 = setInterval(closeA, 1);
			}
		}
	}
	window.onload = function(){
		expand();
	}
</script>
</head>

<body>
<input type="button" id="btn" value="更换主题" />
<div id="info"></div>
<div id="tips" style="display:none;"></div>

</body>
</html>
