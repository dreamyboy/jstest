<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><head>	<title>如何给事件handler传参数？</title>	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" /></head><body>	<h1 id="a">Click Me~!!</h1>	<script type="text/javascript">		var E = {			on: function(el, type, fn){				el.addEventListener ? el.addEventListener(type, fn, false) : el.attachEvent('on' + type, fn);			},			un: function(el, type, fn){				el.removeEventListener ? el.removeEventListener(type, fn, false) : el.detachEvent('on' + type, fn);			}		}		var v1 = 'jikey', v2 = 'tang';		function handler(arg1, arg2){			alert(arg1);			alert(arg2);		}				//E.on(document.getElementById('a'), 'click', handler);		/*		E.on(document.getElementById('a'), 'click', (function(v1, v2){			return function(){				handler(v1, v2);			}		})(v1, v2));		*/		function h2(e, arg1, arg2){			alert(e);			alert(arg1);			alert(arg2);		}		/*		E.on(document.getElementById('a'), 'click', (function(arg1, arg2){			return function(e){				h2.call(this, e, arg1, arg2);			}		})(v1, v2));				Function.prototype.getCallback = function(){			var _this = this, args = arguments;			return function(e){				return _this.apply(this || window, args);			}		}		E.on(document.getElementById('a'), 'click', handler.getCallback(v1, v2));		*/		Function.prototype.getC2 = function(){			var _this = this, args = [];			for(var i=0, l=arguments.length; i<l; i++){				args[i+1] = arguments[i];			}			return function(e){				args[0] = e;				return _this.apply(this || window, args);			}		}		E.on(document.getElementById('a'), 'click', h2.getC2(v1, v2));	</script></body></html>