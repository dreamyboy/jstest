<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>test</title>
</head>
<body>
<script type="text/javascript">
    function date2obj(total){
        var day=Math.floor(total/86400000),
                hour=Math.floor(total/3600000%24),
                min=Math.floor(total/60000%60),
                sec=Math.floor(total/1000%60),
                to2=function(v){ return (v<10?"0":"") + v; };
        return {d:to2(day), h:to2(hour), m:to2(min), s:to2(sec)};
    }


//    console.dir(date2obj(20151210));
    function fmoney(s, n){
        n = n > 0 && n <= 20 ? n : 2;
        s = parseFloat((s + "").replace(/[^\d\.-]/g, "")).toFixed(n) + "";
        var l = s.split(".")[0].split("").reverse(),
                r = s.split(".")[1];
        t = "";
        for(i = 0; i < l.length; i ++ ){
            t += l[i] + ((i + 1) % 3 == 0 && (i + 1) != l.length ? "," : "");
        }
        return t.split("").reverse().join("") + "." + r;
    }
//    console.log(fmoney(123452332267.8859, 3));

    function dateFormat(date, format, flag) {
        var cn = new Date(date.replace(/-/g, "/")),
            year = cn.getFullYear(),
            month = cn.getMonth() + 1,
            day = cn.getDate(),
            times = date.split(' ')[1];

        if (cn == 'Invalid Date') {
            return 'Invalid Date'
        }
        times = times == undefined ? "" : " " + times.substr(0, 5);
        month = month >= 10 ? month : '0' + month;
        day = day >= 10 ? day : '0' + day;
        return format.replace(/YYYY/, year).replace(/MM/, month).replace(/DD/, day) + (flag == 1 ? times : "")
    }
    console.log(dateFormat('2013-04-10', 'MM月DD日YYYY年'));


</script>
</body>
</html>