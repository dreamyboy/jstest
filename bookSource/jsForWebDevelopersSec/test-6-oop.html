<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
    <title>test</title>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js"></script>
</head>
<body>
<script type="text/javascript">
    /*
    var person = {};
    Object.defineProperty(person, 'name', {
        writable: false,
        value: 'Nicholas'
    });
    console.log(person.name);
    person.name = 'Greg';
    console.log(person.name);

    var book = {
        _year: 2004,
        edition:1
    };
    Object.defineProperty(book, 'year', {
        get: function(){
            return this._year;
        },
        set: function(newValue){
            if(newValue > 2004){
                this._year = newValue;
                this.edition += newValue - 2004;
            }
        }
    });

    book.year = 2005;
//    console.log(book.edition);

    var book = {};
    Object.defineProperties(book, {
        _year: {
            value: 2004
        },
        edition: {
            value: 1
        },
        year: {
            get: function(){
                return this._year;
            },
            set: function(newValue){
                if(newValue > 2004){[{ "keys": ["ctrl+shift+b"], "command": "open_browser" }]
                    this._year = newValue;
                    this.edition += newValue - 2004;
                }
            }
        }
    });

    var descriptor = Object.getOwnPropertyDescriptor(book, '_year');
    console.log(descriptor.value);
    console.log(descriptor.configurable);

    function createPerson(name, age, job){
        var o = new Object();
        o.name = name;
        o.age = age;
        o.job = job;
        o.sayName = function(){
            console.log(this.name);
        }
        return o;
    }
    var person1 = createPerson('Nicholas', 29, 'software enginneer');
    var person2 = createPerson('Greg', 27, 'Doctor');
    person1.sayName();
    person2.sayName();


    function Person(name, age, job){
        this.name = name;
        this.age = age;
        this.job = job;
        this.sayName = function(){
            console.log(this.name);
        };
    }
    var person1 = new Person('Nicholas', 29, 'software enginneer');
    var person2 = new Person('Greg', 27, 'Doctor');
    person1.sayName();
    person2.sayName();

    function Person(){
    }

    Person.prototype.name = 'Nicholas';
    Person.prototype.age = 29;
    Person.prototype.job = 'software engineer';
    Person.prototype.sayName = function(){
        console.log(this.name);
    }
    var person1 = new Person();
    var person2 = new Person();
    person1.name = 'Greg';
    console.log(person2.hasOwnProperty('name'));
    console.log('name' in person1);


    function hasPrototypeProperty(object, name){
        return !object.hasOwnProperty(name) && (name in object);
    }

    var o = {
        toString: function() {
            return 'My Object';
        }
    };

    for(var prop in o){
        if (prop == 'toString') {
            console.log('Found toString');
        };
    }

    function Person() {};
    Person.prototype.name = 'Nicholas';
    Person.prototype.age = 29;
    Person.prototype.job = 'software Engineer';
    Person.prototype.sayName = function() {
        console.log(this.name);
    };

    var keys = Object.keys(Person.prototype);
    console.log(keys);
    function Person() {};
    Person.prototype = {
        constructor: Person,
        name: 'Nicholas',
        age: 29,
        job: 'Software Engineer'
    };

    var friend = new Person();
    console.log(friend instanceof Object);
    console.log(friend instanceof Person);
    console.log(friend.constructor == Person); // false
    console.log(friend.constructor == Object);
    String.prototype.startsWith = function(text) {
        return this.indexOf(text) == 0;
    };

    var msg = 'hello world';
    console.log(msg.startsWith('hello'));
    function Person() {};
    Person.prototype = {
        constructor: Person,
        name: 'Nicholas',
        friends: ['Shelby', 'court'],
        age: 29,
        job: 'Software Engineer'
    };

    var person1 = new Person();
    var person2 = new Person();

    person1.friends.push('Van');

    console.log(person1.friends);
    console.log(person2.friends);
    console.log(person1.friends == person2.friends);
    function Person(name, age, job) {
        this.name = name;
        this.age = age;
        this.job = job;
        this.friends = ['Shelby', 'Court'];
    };
    Person.prototype = {
        constructor: Person,
        sayName: function() {
            console.log(this.name);
        }
    };

    var person1 = new Person('Nicholas', 29, 'Software Engineer');
    var person2 = new Person('Greg', 27, 'Doctor');

    person1.friends.push('Van');

    console.log(person1.friends);
    console.log(person2.friends);
    console.log(person1.friends == person2.friends);

    function SuperType () {
        this.property = true;
    }
    SuperType.prototype.getSuperValue = function() {
        return this.property;
    };
    function SubType () {
        this.subproperty = false;
    }
    // 继承了SuperType
    SubType.prototype = new SuperType();
    SubType.prototype.getSubValue = function() {
        return this.subproperty;
    };
    var instance = new SubType();
    console.log(instance.getSuperValue());

    function SuperType () {
        this.colors = ['red', 'blue', 'green'];
    }
    function SubType () {
        SuperType.call(this);
    }
    SubType.prototype = new SuperType();
    var instance1 = new SubType();
    instance1.colors.push('black');
    console.log(instance1.colors);
    var instance2 = new SubType();
    console.log(instance2.colors);



    var person = {
        name: 'Nicholas',
        friends: ['shelby', 'court', 'van']
    }

    // var anotherPerson = object(person);
    var anotherPerson = Object.create(person);
    anotherPerson.name = 'Greg';
    anotherPerson.friends.push('Rob');

    var yetAnotherPerson = Object.create(person);
    yetAnotherPerson.name = 'Linda';
    yetAnotherPerson.friends.push('Barbie');
    console.log(person.friends);
    */

    function object (o) {
        function F () {}
        F.prototype = o;
        return new F();
    }

    function inheritPrototype(subType, superType){
        var prototype = object(superType.prototype);
        subType.constructor = superType;
        subType.prototype = prototype;
    }

    function SuperType (name) {
        this.name = name;
        this.colors = ['red', 'blue', 'green'];
    }

    SuperType.prototype.sayName = function(){
        console.log(this.name);
    }

    function SubType(name, age){
        SuperType.call(this, name);
        this.age = age;
    }

    inheritPrototype(SubType, SuperType);

    SubType.prototype.sayAge = function(){
        console.log(this.age);
    }

    var instance = new SubType('Nicholas', 29);
    instance.sayAge();
    instance.sayName();

</script>
</body>
</html>



