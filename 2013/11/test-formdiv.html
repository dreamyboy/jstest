<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>test</title>
    <style type="text/css">
        *{ margin:0; padding:0;}
        body{font:12px/1.5 arial;}
        .test{ width:200px; height:200px; margin:30px; border:1px solid #ccc;background: #f00;}
        .test2{ width:200px; height:200px; margin:60px; border:1px solid #ccc;background: #f00;}
        .cover{background: #333;opacity:0.4; z-index:5; display:block;}
    </style>
    <script type="text/javascript" src="http://lib.sinaapp.com/js/jquery/1.8.3/jquery.min.js"></script>
</head>
<body>
<div class="test"></div>
<div class="test2"></div>
<script type="text/javascript">
    $.fn.autoCover = function(obj){
        return this.each(function(){
            var w = $(this).outerWidth() + 10,
                h = $(this).outerHeight() + 10,
                offsetVal = $(this).offset(),
                t = offsetVal.top - 5,
                l = offsetVal.left - 5;

            obj = $('<div />').appendTo('body').addClass('cover');
            obj.css({ position : 'absolute', top : t, left : l, width : w, height : h});
        });
    }
    $('.test,.test2').autoCover();
</script>
</body>
</html>