<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>无标题文档</title>
    <style>p{width:400px;margin:0 auto;}
    ins{cursor:pointer;text-decoration:none;padding-left:20px;}
    </style>
</head>
<body>
http://bbs.blueidea.com/thread-3092099-1-1.html
<div>
    <p><span>1</span><ins>delete</ins></p>
    <p><span>2</span><ins>delete</ins></p>
    <p><span>3</span><ins>delete</ins></p>
    <p><span>4</span><ins>delete</ins></p>
    <p><span>5</span><ins>delete</ins></p>
    <p><span>6</span><ins>delete</ins></p>
</div>
<p><a href="javascript:void(0);">Add</a></p>
</body>
</html>
<!--<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.1.min.js"></script>-->
<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
    $(function(){
        $('a').click(function(){
            var num=$('span').length;
            var a='<p><span>'+(num+1)+'</span><ins>delete</ins></p>';
            $('div').append(a);
        })

        $('div').on('click', 'ins', function(e){
            var iIndex=$(this).parent('p').index();
            $(e.target).closest('p').remove();
            $('p').each(function(){
                var vindex=$(this).index();
                if(vindex>=iIndex){
                    $(this).find('span').text(vindex+1);
                }
            });
        });
    });
</script>
