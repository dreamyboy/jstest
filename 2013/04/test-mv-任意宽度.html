<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		div{width:200px;height:50px;margin-top:20px;background:#f00;}
	</style>
</head>
<body>
<div></div>	
<div></div>	
<div></div>	
<script type="text/javascript">
	var aDiv = document.getElementsByTagName('div');

	for(var i = 0; i < aDiv.length; i++){
		aDiv[i].onmouseover = function(){
			startMove(this, 500);
		}
		aDiv[i].onmouseout = function(){
			startMove(this, 200);
		}
	}

	function css(obj, attr){
		if (obj.currentStyle){
			return obj.currentStyle[attr];
		} else {
			return getComputedStyle(obj, false)[attr];
		}
	}

	function startMove(obj, iTarget){
		clearInterval(obj.timer);

		obj.timer = setInterval(function(){
			var iCur = parseInt(css(obj, 'width'));
			var iSpeed = (iTarget - iCur) / 8;
			iSpeed = (iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed));

			if (iCur == iTarget){
				clearInterval(obj.timer);
			} else {
				obj.style.width = iCur + iSpeed + 'px';
			}

		}, 30);
	}
</script>	
</body>
</html>
