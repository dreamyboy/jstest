<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>test</title>
    <!--<script type="text/javascript" src="../jquery-1.8.3.min.js"></script>-->
    <script type="text/javascript" src="http://lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js"></script>
</head>
<body>
<h4><a href="http://www.cnblogs.com/aaronjs/p/3342344.html">http://www.cnblogs.com/aaronjs/p/3342344.html</a></h4>
<script type="text/javascript">
    /*
    function Aaron(List, callback){
        setTimeout(function(){
            var task = List.shift();
            task();
            if(task.length > 0){
                setTimeout(arguments.callee, 1000);
            } else {
                callback();
            }
        }, 25);
    }

    Aaron([function(){
        alert('a');
        console.log('a');
    }, function(){
        alert('b');
        console.log('b');
    }, function(){
        alert('c');
        console.log('c');
    }], function(){
        alert('callback');
        console.log('callback');
    });

    */
    var callback = $.Callbacks('once');
    callback.add(function(){
        console.log('a');
    });
    callback.add(function(){
        console.log('b');
    });

    callback.fire();
    callback.fire();

    function fn1(val){
        console.log(val);
    }
    function fn2(val){
        console.log('fn1 say: ' + val);
    }

    var callbacks2 = $.Callbacks();
    callbacks2.add(fn1);
    callbacks2.fire('我是一个兵');
    callbacks2.add(fn2);
    callbacks2.fire('我是英雄!');

    console.group('callbacks3');
    var callbacks3 = $.Callbacks('memory');
    callbacks3.add(function(){
        console.log('f1');
    });
    callbacks3.fire();
    callbacks3.add(function(){
        console.log('f2');
    });
    console.groupEnd();


</script>
</body>
</html>