<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>test</title>
</head>
<body>
<script type="text/javascript">
    var a = [];
    var b = { age : 30 };
    var c = {};
    b.name = 'jack';
    var d = cloneObject(b, c);
    a.push(d);
    b.name = 'sky';
    console.log(a);

    function cloneObject(o, d) {
        if (o === null || o === undefined || typeof ( o ) !== 'object') {
            return o;
        }

        var deep = !!d;

        var cloned;

        if (o.constructor === Array) {
            if (deep === false) {
                return o;
            }

            cloned = [];

            for (var i in o) {
                cloned.push(cloneObject(o[i], deep));
            }

            return cloned;
        }

        cloned = {};

        for (var i in o) {
            cloned[i] = deep ? cloneObject(o[i], true) : o[i];
        }

        return cloned;
    }
</script>
</body>
</html>