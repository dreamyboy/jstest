<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script type="text/javascript" src="http://zeptojs.com/zepto.min.js"></script>
    <style type="text/css">
        *{
            margin: 0;
            padding: 0;
        }
        li{
            list-style: none;
        }
        .div,.div1{
            width: 400px;
            margin: 0 auto;
        }
        .div li{
            width: 100px;
            height: 35px;
            border:1px solid #DCDCDC;
            line-height: 35px;
            text-align: center;
            display:inline-block;
            cursor: pointer;
        }
        .div li.active{
            background: #00BCF3;
            color: #FFF;
        }
        .div1 a{
            background: #00BCF3;
            display: inline-block;
            font-size: 14px;
            line-height: 28px;
            margin: 0 5px 5px 0;
            padding: 0 10px 0 10px;
            position: relative;
        }
    </style>
    <script type="text/javascript">
        $(function(){
            var arr = [];
            var num = 0;
            var div = $('.div1');
            $('.div li').on('click',function(){
                var html = '';
                var text = $(this).text();
                var shu = $(".div li.active").length;
                var idx = $(this).index();
                console.log($.inArray(idx, arr));
                $(this).toggleClass('active');
                if($.inArray(idx, arr) == -1){
                    if($('.div li.active').length > 10){
                        alert('目的地最多支持10个');
                        $(this).removeClass('active');
                    }
                    html += '<a id="city' + (idx) + '" href="javascript:;">'+text+'</a>';
                    arr.push(idx);
                    $('.div1').append(html);
                } else {
                    div.find('#city' + idx).remove();
                    arr.remove(idx);
                }
            });
            $('.div1 a').live('click',function(){
                $('.div li').eq(this.id.slice(4)).removeClass();
                $(this).remove();
            });
        });

        Array.prototype.indexOf = function(val) {
            for (var i = 0; i < this.length; i++) {
                if (this[i] == val) return i;
            }
            return -1;
        };
        Array.prototype.remove = function(val) {
            var index = this.indexOf(val);
            if (index > -1) {
                this.splice(index, 1);
            }
        };
    </script>
</head>
<body>
<div class="div">
    <ul>
        <li>厦门</li>
        <li>香港</li>
        <li>北京</li>
        <li>天津</li>
        <li>澳门</li>
        <li>广州</li>
        <li>杭州</li>
        <li>南京</li>
        <li>西安</li>
        <li>大连</li>
        <li>三亚</li>
        <li>重庆</li>
    </ul>
</div>
<div class="div1" style="margin-top:20px;">

</div>
</body>
</html>
