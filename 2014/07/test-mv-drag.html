<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>test</title>
    <style type="text/css">
        #div{ width:200px; height:200px; background:#ccc; position:absolute;}
    </style>
</head>
<body>
<div id="div">a</div>
<script type="text/javascript">
    var div = document.getElementById('div')
    var disX = 0
    var disY = 0
    document.onmousedown = function(e){
        var e = e || event
        disX = e.clientX - div.offsetLeft
        disY = e.clientY - div.offsetTop

        document.onmousemove = function(e){
            var e = e || event
            var t = e.clientY - disY
            var l = e.clientX - disX
            if(t < 0){
                t = 0
            } else if(t > document.documentElement.clientHeight - div.clientHeight){
                t = document.documentElement.clientHeight - div.clientHeight
            }

            if(l < 0){
                l = 0
            } else if(l > document.documentElement.clientWidth - div.clientWidth){
                l = document.documentElement.clientWidth - div.clientWidth
            }
            div.style.top = t + 'px'
            div.style.left = l + 'px'
        }
        document.onmouseup = function(e){
            document.onmousemove = null
            document.onmouseup = null
        }
        return false;
    }


</script>
</body>
</html>